{"version":3,"sources":["components/fieldHelpers.js","components/pages/Home.js","components/articles/ArticleInfo.js","components/articles/ArticleAddForm.js","components/articles/ArticleAdd.js","components/articles/ArticleEdit.js","App.js","index.js"],"names":["NameField","string","label","name","str","func","className","htmlFor","id","type","value","charAt","toUpperCase","slice","onChange","required","PhoneField","nr","pattern","title","numberFormatter","num","substring","length","Home","useState","articles","setArticles","searchTerm","setSearchTerm","searchResults","setSearchResults","useEffect","a","axios","get","response","data","console","log","getArticles","searchStr","RegExp","results","filter","article","fname","match","lname","phone","to","e","target","map","item","key","_id","ArticleInfo","props","setArticle","delete","params","history","push","error","getArticle","onClick","ArticleAddForm","handleSubmit","handleCancel","handleChange","onSubmit","data-testid","ArticleAdd","art","post","event","preventDefault","postArticle","ArticleEdit","patch","updateArticle","Navigation","exact","activeClassName","Main","path","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73665024.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction capitalize(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction NameField({ label, name, str, func }) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <input\r\n        id={name}\r\n        name={name}\r\n        type=\"text\"\r\n        value={capitalize(str)}\r\n        onChange={func}\r\n        className=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PhoneField({ name, nr, func }) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label>Phone</label>\r\n      <input\r\n        pattern=\"[+][0-9]{9,15}\"\r\n        name={name}\r\n        type=\"text\"\r\n        value={nr}\r\n        onChange={func}\r\n        className=\"form-control\"\r\n        title=\"Phone number should start with a '+', consist of numbers only and be 9 to 15 digits, not contain spaces\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction numberFormatter(num) {\r\n  const prefix = num.substring(1, 3);\r\n  const national = num.substring(3, 5);\r\n  const personal = num.substring(5, num.length);\r\n  return '+' + prefix + ' ' + national + ' ' + personal;\r\n}\r\n\r\nexport { NameField, PhoneField, numberFormatter };\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { numberFormatter } from '../fieldHelpers';\r\n\r\nfunction Home() {\r\n  const [articles, setArticles] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  useEffect(function() {\r\n    async function getArticles() {\r\n      try {\r\n        const response = await axios.get('/api/articles');\r\n        setArticles(response.data);\r\n      } catch (error) {\r\n        console.log('error', error);\r\n      }\r\n    }\r\n    getArticles();\r\n  }, []);\r\n\r\n  const handleChange = e => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const searchStr = new RegExp(searchTerm, 'i');\r\n    const results = articles.filter(\r\n      article =>\r\n        article.fname.match(searchStr) ||\r\n        article.lname.match(searchStr) ||\r\n        article.phone.match(searchStr)\r\n    );\r\n    setSearchResults(results);\r\n  }, [searchTerm, articles]);\r\n\r\n  return (\r\n    <div>\r\n      <Link to=\"/articles/new\" className=\"btn btn-primary float-right\">\r\n        Add new entry\r\n      </Link>\r\n      <i>Type name or surname or phone number to filter results</i>\r\n      <br />\r\n      <input type=\"text\" value={searchTerm} onChange={handleChange} />\r\n      <ul>\r\n        {searchResults.map((item, key) => (\r\n          <li key={key}>\r\n            <Link to={`/articles/${item._id}`}>\r\n              {item.fname} {item.lname}\r\n            </Link>{' '}\r\n            | {numberFormatter(item.phone)}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { numberFormatter } from '../fieldHelpers';\r\n\r\nfunction ArticleInfo(props) {\r\n  const [article, setArticle] = useState({});\r\n\r\n  useEffect(\r\n    function() {\r\n      async function getArticle() {\r\n        try {\r\n          const response = await axios.get(\r\n            `/api/articles/${props.match.params._id}`\r\n          );\r\n          setArticle(response.data);\r\n        } catch (error) {\r\n          console.log('error', error);\r\n        }\r\n      }\r\n      getArticle();\r\n    },\r\n    [props]\r\n  );\r\n\r\n  async function handleDelete() {\r\n    try {\r\n      await axios.delete(`/api/articles/${props.match.params._id}`);\r\n      props.history.push('/');\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>\r\n        {article.fname} {article.lname}\r\n      </h2>\r\n      <p>Number: {article.phone && numberFormatter(article.phone)}</p>\r\n      <br />\r\n      <div className=\"btn-group\">\r\n        <Link to={`/articles/${article._id}/edit`} className=\"btn btn-primary\">\r\n          Edit\r\n        </Link>\r\n        <button onClick={handleDelete} className=\"btn btn-danger\">\r\n          Delete\r\n        </button>\r\n        <Link to=\"/\" className=\"btn btn-secondary\">\r\n          Close\r\n        </Link>\r\n      </div>\r\n      <hr />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ArticleInfo;\r\n","import React from 'react';\r\nimport { NameField, PhoneField } from '../fieldHelpers';\r\n\r\nfunction ArticleAddForm({ article, handleSubmit, handleCancel, handleChange }) {\r\n  return (\r\n    <div>\r\n      <h1>Create Contact</h1>\r\n      <hr />\r\n      <form onSubmit={handleSubmit} data-testid=\"form\">\r\n        <NameField\r\n          label=\"First Name\"\r\n          name=\"fname\"\r\n          str={article.fname}\r\n          func={handleChange}\r\n        />\r\n        <NameField\r\n          label=\"Last Name\"\r\n          name=\"lname\"\r\n          str={article.lname}\r\n          func={handleChange}\r\n        />\r\n        <PhoneField name=\"phone\" nr={article.phone} func={handleChange} />\r\n        <div className=\"btn-group\">\r\n          <button data-testid=\"submitButton\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n          <button\r\n            data-testid=\"cancelButton\"\r\n            type=\"button\"\r\n            onClick={handleCancel}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nexport default ArticleAddForm;\r\n","import React, { useState } from 'react';\r\nimport { post } from 'axios';\r\nimport ArticleAddForm from './ArticleAddForm';\r\n\r\nfunction ArticleAdd(props) {\r\n  const initialState = { fname: '', lname: '', phone: '+' };\r\n  const [article, setArticle] = useState(initialState);\r\n\r\n  function handleChange(event) {\r\n    setArticle({ ...article, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  async function postArticle(art) {\r\n    try {\r\n      const response = await post('/api/articles', art);\r\n      props.history.push(`/articles/${response.data._id}`);\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    postArticle(article);\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push('/');\r\n  }\r\n\r\n  return (\r\n    <ArticleAddForm\r\n      article={article}\r\n      handleChange={handleChange}\r\n      handleSubmit={handleSubmit}\r\n      handleCancel={handleCancel}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ArticleAdd;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { get, patch } from 'axios';\r\nimport { NameField, PhoneField } from '../fieldHelpers';\r\n\r\nfunction ArticleEdit(props) {\r\n  const initialState = { fname: '', lname: '', phone: '' };\r\n  const [article, setArticle] = useState(initialState);\r\n\r\n  useEffect(\r\n    function() {\r\n      async function getArticle() {\r\n        try {\r\n          const response = await get(`/api/articles/${props.match.params._id}`);\r\n          setArticle(response.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n      getArticle();\r\n    },\r\n    [props]\r\n  );\r\n\r\n  function handleChange(event) {\r\n    setArticle({ ...article, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  async function updateArticle() {\r\n    try {\r\n      await patch(`/api/articles/${article._id}`, article);\r\n      props.history.push(`/articles/${article._id}`);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    updateArticle();\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(`/articles/${article._id}`);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Edit {article.title}</h1>\r\n      <hr />\r\n      <form onSubmit={handleSubmit}>\r\n        <NameField\r\n          label=\"First Name\"\r\n          name=\"fname\"\r\n          str={article.fname}\r\n          func={handleChange}\r\n        />\r\n        <NameField\r\n          label=\"Last Name\"\r\n          name=\"lname\"\r\n          str={article.lname}\r\n          func={handleChange}\r\n        />\r\n        <PhoneField name=\"phone\" nr={article.phone} func={handleChange} />\r\n        <div className=\"btn-group\">\r\n          <button className=\"btn btn-primary\">Update</button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleCancel}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ArticleEdit;\r\n","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  NavLink,\r\n  Switch\r\n} from 'react-router-dom';\r\nimport Home from './components/pages/Home';\r\nimport ArticleInfo from './components/articles/ArticleInfo';\r\nimport ArticleAdd from './components/articles/ArticleAdd';\r\nimport ArticleEdit from './components/articles/ArticleEdit';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Navigation />\r\n        <div className=\"container\">\r\n          <Main />\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Navigation() {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark mb-4\">\r\n      <div className=\"container\">\r\n        <NavLink exact className=\"nav-link\" activeClassName=\"active\" to=\"/\">\r\n          Home\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nfunction Main() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Home} />\r\n      <Route exact path=\"/articles/new\" component={ArticleAdd} />\r\n      <Route exact path=\"/articles/:_id\" component={ArticleInfo} />\r\n      <Route exact path=\"/articles/:_id/edit\" component={ArticleEdit} />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}