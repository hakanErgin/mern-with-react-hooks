{"version":3,"sources":["components/fieldHelpers.js","components/pages/Home.js","components/articles/ArticleInfo.js","components/articles/ArticleAddForm.js","components/articles/ArticleAdd.js","components/articles/ArticleEdit.js","App.js","index.js"],"names":["NameField","string","label","name","str","func","className","htmlFor","id","type","value","charAt","toUpperCase","slice","onChange","required","PhoneField","nr","pattern","title","numberFormatter","num","substring","length","Home","useState","articles","setArticles","searchTerm","setSearchTerm","searchResults","setSearchResults","useEffect","a","axios","get","response","data","console","log","getArticles","searchStr","RegExp","results","filter","article","fname","match","lname","phone","e","target","placeholder","class","map","item","key","to","_id","ArticleInfo","props","setArticle","delete","params","history","push","error","getArticle","onClick","ArticleAddForm","handleSubmit","handleCancel","handleChange","onSubmit","data-testid","ArticleAdd","art","post","event","preventDefault","postArticle","ArticleEdit","patch","updateArticle","Navigation","exact","activeClassName","Main","path","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3e582bc1.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction capitalize(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction NameField({ label, name, str, func }) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <input\r\n        id={name}\r\n        name={name}\r\n        type=\"text\"\r\n        value={capitalize(str)}\r\n        onChange={func}\r\n        className=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PhoneField({ name, nr, func }) {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label>Phone</label>\r\n      <input\r\n        pattern=\"[+][0-9]{9,15}\"\r\n        name={name}\r\n        type=\"text\"\r\n        value={nr}\r\n        onChange={func}\r\n        className=\"form-control\"\r\n        title=\"Phone number should start with a '+', consist of numbers only and be 9 to 15 digits, not contain spaces\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction numberFormatter(num) {\r\n  const prefix = num.substring(1, 3);\r\n  const national = num.substring(3, 5);\r\n  const personal = num.substring(5, num.length);\r\n  return '+' + prefix + ' ' + national + ' ' + personal;\r\n}\r\n\r\nexport { NameField, PhoneField, numberFormatter };\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { numberFormatter } from '../fieldHelpers';\r\nimport './Home.css';\r\n\r\nfunction Home() {\r\n  const [articles, setArticles] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  useEffect(function () {\r\n    async function getArticles() {\r\n      try {\r\n        const response = await axios.get('/api/articles');\r\n        setArticles(response.data);\r\n      } catch (error) {\r\n        console.log('error', error);\r\n      }\r\n    }\r\n    getArticles();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const searchStr = new RegExp(searchTerm, 'i');\r\n    const results = articles.filter(\r\n      (article) =>\r\n        article.fname.match(searchStr) ||\r\n        article.lname.match(searchStr) ||\r\n        article.phone.match(searchStr)\r\n    );\r\n    setSearchResults(results);\r\n  }, [searchTerm, articles]);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <input\r\n        type=\"text\"\r\n        value={searchTerm}\r\n        onChange={handleChange}\r\n        placeholder={'Find by name/surname or number'}\r\n        className={'input-box'}\r\n      />\r\n      <ul class=\"list-group list-group-flush\">\r\n        {searchResults.map((item, key) => (\r\n          <li class=\"list-group-item\" key={key}>\r\n            <Link to={`/articles/${item._id}`}>\r\n              {item.fname} {item.lname}\r\n            </Link>\r\n            {numberFormatter(item.phone)}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { numberFormatter } from '../fieldHelpers';\r\n\r\nfunction ArticleInfo(props) {\r\n  const [article, setArticle] = useState({});\r\n\r\n  useEffect(\r\n    function () {\r\n      async function getArticle() {\r\n        try {\r\n          const response = await axios.get(\r\n            `/api/articles/${props.match.params._id}`\r\n          );\r\n          setArticle(response.data);\r\n        } catch (error) {\r\n          console.log('error', error);\r\n        }\r\n      }\r\n      getArticle();\r\n    },\r\n    [props]\r\n  );\r\n\r\n  async function handleDelete() {\r\n    try {\r\n      await axios.delete(`/api/articles/${props.match.params._id}`);\r\n      props.history.push('/');\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>\r\n        {article.fname} {article.lname}\r\n      </h2>\r\n      <p>Number: {article.phone && numberFormatter(article.phone)}</p>\r\n      <br />\r\n      <div className=\"btn-group\">\r\n        <Link to={`/articles/${article._id}/edit`} className=\"btn btn-primary\">\r\n          Edit\r\n        </Link>\r\n        <button onClick={handleDelete} className=\"btn btn-danger\">\r\n          Delete\r\n        </button>\r\n        <Link to=\"/\" className=\"btn btn-secondary\">\r\n          Close\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ArticleInfo;\r\n","import React from 'react';\r\nimport { NameField, PhoneField } from '../fieldHelpers';\r\n\r\nfunction ArticleAddForm({ article, handleSubmit, handleCancel, handleChange }) {\r\n  return (\r\n    <div>\r\n      <h1>Create Contact</h1>\r\n      <hr />\r\n      <form onSubmit={handleSubmit} data-testid=\"form\">\r\n        <NameField\r\n          label=\"First Name\"\r\n          name=\"fname\"\r\n          str={article.fname}\r\n          func={handleChange}\r\n        />\r\n        <NameField\r\n          label=\"Last Name\"\r\n          name=\"lname\"\r\n          str={article.lname}\r\n          func={handleChange}\r\n        />\r\n        <PhoneField name=\"phone\" nr={article.phone} func={handleChange} />\r\n        <div className=\"btn-group\">\r\n          <button data-testid=\"submitButton\" className=\"btn btn-primary\">\r\n            Submit\r\n          </button>\r\n          <button\r\n            data-testid=\"cancelButton\"\r\n            type=\"button\"\r\n            onClick={handleCancel}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\nexport default ArticleAddForm;\r\n","import React, { useState } from 'react';\r\nimport { post } from 'axios';\r\nimport ArticleAddForm from './ArticleAddForm';\r\n\r\nfunction ArticleAdd(props) {\r\n  const initialState = { fname: '', lname: '', phone: '+' };\r\n  const [article, setArticle] = useState(initialState);\r\n\r\n  function handleChange(event) {\r\n    setArticle({ ...article, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  async function postArticle(art) {\r\n    try {\r\n      const response = await post('/api/articles', art);\r\n      props.history.push(`/articles/${response.data._id}`);\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    postArticle(article);\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push('/');\r\n  }\r\n\r\n  return (\r\n    <ArticleAddForm\r\n      article={article}\r\n      handleChange={handleChange}\r\n      handleSubmit={handleSubmit}\r\n      handleCancel={handleCancel}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ArticleAdd;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { get, patch } from 'axios';\r\nimport { NameField, PhoneField } from '../fieldHelpers';\r\n\r\nfunction ArticleEdit(props) {\r\n  const initialState = { fname: '', lname: '', phone: '' };\r\n  const [article, setArticle] = useState(initialState);\r\n\r\n  useEffect(\r\n    function() {\r\n      async function getArticle() {\r\n        try {\r\n          const response = await get(`/api/articles/${props.match.params._id}`);\r\n          setArticle(response.data);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n      getArticle();\r\n    },\r\n    [props]\r\n  );\r\n\r\n  function handleChange(event) {\r\n    setArticle({ ...article, [event.target.name]: event.target.value });\r\n  }\r\n\r\n  async function updateArticle() {\r\n    try {\r\n      await patch(`/api/articles/${article._id}`, article);\r\n      props.history.push(`/articles/${article._id}`);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault();\r\n    updateArticle();\r\n  }\r\n\r\n  function handleCancel() {\r\n    props.history.push(`/articles/${article._id}`);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Edit {article.title}</h1>\r\n      <hr />\r\n      <form onSubmit={handleSubmit}>\r\n        <NameField\r\n          label=\"First Name\"\r\n          name=\"fname\"\r\n          str={article.fname}\r\n          func={handleChange}\r\n        />\r\n        <NameField\r\n          label=\"Last Name\"\r\n          name=\"lname\"\r\n          str={article.lname}\r\n          func={handleChange}\r\n        />\r\n        <PhoneField name=\"phone\" nr={article.phone} func={handleChange} />\r\n        <div className=\"btn-group\">\r\n          <button className=\"btn btn-primary\">Update</button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleCancel}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ArticleEdit;\r\n","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  NavLink,\r\n  Switch,\r\n  Link,\r\n} from 'react-router-dom';\r\nimport Home from './components/pages/Home';\r\nimport ArticleInfo from './components/articles/ArticleInfo';\r\nimport ArticleAdd from './components/articles/ArticleAdd';\r\nimport ArticleEdit from './components/articles/ArticleEdit';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Navigation />\r\n        <div className=\"container\">\r\n          <Main />\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Navigation() {\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark mb-4\">\r\n      <div className=\"container\">\r\n        <NavLink exact className=\"nav-link\" activeClassName=\"active\" to=\"/\">\r\n          Phone book\r\n        </NavLink>\r\n        <Link to=\"/articles/new\" className=\"btn btn-primary float-right\">\r\n          +\r\n        </Link>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nfunction Main() {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" component={Home} />\r\n      <Route exact path=\"/articles/new\" component={ArticleAdd} />\r\n      <Route exact path=\"/articles/:_id\" component={ArticleInfo} />\r\n      <Route exact path=\"/articles/:_id/edit\" component={ArticleEdit} />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}