(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),l=a.n(c),s=(a(36),a(37),a(11)),o=a(1),u=a(3),i=a.n(u),m=a(8),p=a(10),b=a(9),f=a.n(b);function h(e){var t,a=e.label,n=e.name,c=e.str,l=e.func;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:n},a),r.a.createElement("input",{id:n,name:n,type:"text",value:(t=c,t.charAt(0).toUpperCase()+t.slice(1)),onChange:l,className:"form-control",required:!0}))}function d(e){var t=e.name,a=e.nr,n=e.func;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Phone"),r.a.createElement("input",{pattern:"[+][0-9]{9,15}",name:t,type:"text",value:a,onChange:n,className:"form-control",title:"Phone number should start with a '+', consist of numbers only and be 9 to 15 digits, not contain spaces"}))}function E(e){return"+"+e.substring(1,3)+" "+e.substring(3,5)+" "+e.substring(5,e.length)}var v=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(p.a)(l,2),u=o[0],b=o[1],h=Object(n.useState)([]),d=Object(p.a)(h,2),v=d[0],g=d[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/articles");case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var e=new RegExp(u,"i"),t=a.filter((function(t){return t.fname.match(e)||t.lname.match(e)||t.phone.match(e)}));g(t)}),[u,a]),r.a.createElement("div",null,r.a.createElement(s.b,{to:"/articles/new",className:"btn btn-primary float-right"},"Add new entry"),r.a.createElement("i",null,"Type name or surname or phone number to filter results"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:u,onChange:function(e){b(e.target.value)}}),r.a.createElement("ul",null,v.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(s.b,{to:"/articles/".concat(e._id)},e.fname," ",e.lname)," ","| ",E(e.phone))}))))};var g=function(e){var t=Object(n.useState)({}),a=Object(p.a)(t,2),c=a[0],l=a[1];function o(){return(o=Object(m.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete("/api/articles/".concat(e.match.params._id));case 3:e.history.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/api/articles/".concat(e.match.params._id));case 3:a=t.sent,l(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement("div",null,r.a.createElement("h2",null,c.fname," ",c.lname),r.a.createElement("p",null,"Number: ",c.phone&&E(c.phone)),r.a.createElement("br",null),r.a.createElement("div",{className:"btn-group"},r.a.createElement(s.b,{to:"/articles/".concat(c._id,"/edit"),className:"btn btn-primary"},"Edit"),r.a.createElement("button",{onClick:function(){return o.apply(this,arguments)},className:"btn btn-danger"},"Delete"),r.a.createElement(s.b,{to:"/",className:"btn btn-secondary"},"Close")),r.a.createElement("hr",null))},y=a(13),j=a(14);var O=function(e){var t=e.article,a=e.handleSubmit,n=e.handleCancel,c=e.handleChange;return r.a.createElement("div",null,r.a.createElement("h1",null,"Create Contact"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:a,"data-testid":"form"},r.a.createElement(h,{label:"First Name",name:"fname",str:t.fname,func:c}),r.a.createElement(h,{label:"Last Name",name:"lname",str:t.lname,func:c}),r.a.createElement(d,{name:"phone",nr:t.phone,func:c}),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{"data-testid":"submitButton",className:"btn btn-primary"},"Submit"),r.a.createElement("button",{"data-testid":"cancelButton",type:"button",onClick:n,className:"btn btn-secondary"},"Cancel"))))};var x=function(e){var t=Object(n.useState)({fname:"",lname:"",phone:"+"}),a=Object(p.a)(t,2),c=a[0],l=a[1];function s(){return(s=Object(m.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.post)("/api/articles",a);case 3:n=t.sent,e.history.push("/articles/".concat(n.data._id)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return r.a.createElement(O,{article:c,handleChange:function(e){l(Object(j.a)(Object(j.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)))},handleSubmit:function(e){e.preventDefault(),function(e){s.apply(this,arguments)}(c)},handleCancel:function(){e.history.push("/")}})};var N=function(e){var t=Object(n.useState)({fname:"",lname:"",phone:""}),a=Object(p.a)(t,2),c=a[0],l=a[1];function s(e){l(Object(j.a)(Object(j.a)({},c),{},Object(y.a)({},e.target.name,e.target.value)))}function o(){return(o=Object(m.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.patch)("/api/articles/".concat(c._id),c);case 3:e.history.push("/articles/".concat(c._id)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.get)("/api/articles/".concat(e.match.params._id));case 3:a=t.sent,l(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement("div",null,r.a.createElement("h1",null,"Edit ",c.title),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){o.apply(this,arguments)}()}},r.a.createElement(h,{label:"First Name",name:"fname",str:c.fname,func:s}),r.a.createElement(h,{label:"Last Name",name:"lname",str:c.lname,func:s}),r.a.createElement(d,{name:"phone",nr:c.phone,func:s}),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{className:"btn btn-primary"},"Update"),r.a.createElement("button",{type:"button",onClick:function(){e.history.push("/articles/".concat(c._id))},className:"btn btn-secondary"},"Cancel"))))};function k(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(s.c,{exact:!0,className:"nav-link",activeClassName:"active",to:"/"},"Home")))}function w(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:v}),r.a.createElement(o.a,{exact:!0,path:"/articles/new",component:x}),r.a.createElement(o.a,{exact:!0,path:"/articles/:_id",component:g}),r.a.createElement(o.a,{exact:!0,path:"/articles/:_id/edit",component:N}))}var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container"},r.a.createElement(w,null))))};l.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.73665024.chunk.js.map